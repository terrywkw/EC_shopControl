{"ast":null,"code":"/**\n * Google Gemini API 服務\n * \n * 這個文件包含與 Google Gemini API 通信的函數\n * 目前使用模擬數據，實際使用時請替換為真實 API 調用\n */\n\n// Google Gemini API 通信設定\n// 實際使用時，請替換為您的 API 金鑰\nconst API_KEY = \"AIzaSyCS0k2o5WnWagYNWH_Noq_-PzCy9B56Bto\";\nconst API_URL = \"https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent\";\n\n/**\n * 生成商品描述\n * \n * @param {Object} productInfo - 包含商品信息的對象\n * @returns {Promise<string>} - 生成的商品描述\n */\nexport const generateProductDescription = async productInfo => {\n  // 開發模式：使用模擬數據 (mockGenerateDescription)\n  if (process.env.NODE_ENV === 'development') {\n    return mockGenerateDescription(productInfo);\n  }\n\n  // 生產模式：調用 Google Gemini API\n  try {\n    const prompt = createPrompt(productInfo);\n    const response = await fetch(`${API_URL}?key=${API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        contents: [{\n          parts: [{\n            text: prompt\n          }]\n        }],\n        generationConfig: {\n          temperature: 0.7,\n          topK: 40,\n          topP: 0.95,\n          maxOutputTokens: 1024\n        },\n        safetySettings: [{\n          category: \"HARM_CATEGORY_HARASSMENT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_HATE_SPEECH\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }, {\n          category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n          threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }]\n      })\n    });\n    if (!response.ok) {\n      throw new Error(`API 請求失敗: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error('生成商品描述時出錯:', error);\n    throw error;\n  }\n};\n\n/**\n * 創建提示詞\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {string} - 提示詞字串\n */\nconst createPrompt = productInfo => {\n  const {\n    name,\n    category,\n    keywords = '',\n    tone = 'professional'\n  } = productInfo;\n  let toneDescription = '';\n  switch (tone) {\n    case 'professional':\n      toneDescription = '專業正式，適合商業情境';\n      break;\n    case 'casual':\n      toneDescription = '輕鬆友善，使用日常用語，親切自然';\n      break;\n    case 'enthusiastic':\n      toneDescription = '熱情活潑，充滿活力，激發購買慾望';\n      break;\n    case 'elegant':\n      toneDescription = '優雅精緻，適合高檔商品與服務';\n      break;\n    default:\n      toneDescription = '專業正式，適合商業情境';\n  }\n  return `\n請為我生成一個具有吸引力且商業價值高的商品描述，內容按照以下格式:\n\n商品名稱：${name}\n商品類別：${category}\n關鍵詞：${keywords}\n文案風格：${toneDescription}\n\n請生成的文案需符合以下要求：\n1. 文案應有清晰的標題、產品特色描述、規格說明和賣點強調\n2. 使用吸引人的語言和表情符號增加親切感\n3. 精簡有力，避免冗長，每個段落重點突出\n4. 採用商品類別常見的專業術語，提升專業感\n5. 結構清晰，段落分明，便於閱讀\n6. 強調商品對客戶的實際價值和問題解決能力\n7. 整體文案長度適中，約300-500字\n\n請生成適合電商平台展示的完整商品描述文案，無需包含圖片說明和連結。\n  `;\n};\n\n/**\n * 模擬生成商品描述 (僅用於開發環境)\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {Promise<string>} - 生成的商品描述\n */\nconst mockGenerateDescription = async productInfo => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      const {\n        name,\n        category\n      } = productInfo;\n      let description;\n      if (category === '咖啡豆') {\n        description = `【頂級咖啡豆體驗】${name}\n\n來自精選產區的頂級咖啡豆，每一顆都經過專業烘焙師精心烘焙。\n\n🌟 產品特色：\n• 獨特風味：帶有柑橘和巧克力的複雜風味，尾韻有輕微的花香\n• 精心烘焙：精確控制烘焙溫度和時間，確保風味完美釋放\n• 新鮮保證：烘焙後24小時內包裝，鎖住最佳風味\n\n☕ 品嚐建議：\n• 手沖萃取：水溫88-92°C，粉水比1:15\n• 濃縮咖啡：適合中度研磨，展現濃郁口感\n• 冷萃咖啡：冷水浸泡12小時，帶出獨特清爽感\n\n✨ 為什麼選擇我們的咖啡豆？\n每一批咖啡豆都遵循公平貿易原則採購，支持可持續發展的咖啡農場。我們的烘焙過程完全遵循精品咖啡標準，為您帶來頂級咖啡體驗。\n\n📦 包裝規格：250g/包`;\n      } else if (category === '咖啡器具') {\n        description = `【專業咖啡愛好者必備】${name}\n\n為追求完美咖啡體驗而設計，結合功能性與美學的絕佳咖啡器具。\n\n🔍 產品特色：\n• 精工打造：採用高品質材料製作，確保耐用性與安全性\n• 人體工學設計：操作簡便，讓沖煮過程更加輕鬆愉悅\n• 精準控制：提供最佳萃取條件，釋放咖啡豆完整風味\n\n🛠️ 使用方法：\n1. 準備您喜愛的咖啡豆並研磨至適當粗細度\n2. 按照說明書指引設置器具參數\n3. 遵循建議的沖煮方法享受完美咖啡\n\n✅ 適用場景：\n• 家庭日常使用\n• 辦公室小型咖啡站\n• 露營或旅行便攜沖煮\n\n🔧 產品規格：\n• 材質：高品質材料\n• 尺寸：請參考產品圖片\n• 容量：適合1-2人份\n\n💡 小提示：定期清潔和保養您的咖啡器具，將延長使用壽命並確保每一杯咖啡的純淨風味。`;\n      } else if (category === '課程') {\n        description = `【提升咖啡技藝】${name}\n\n由專業咖啡師精心設計的實用課程，無論您是初學者還是咖啡愛好者，都能獲得寶貴的專業知識與技巧。\n\n📚 課程內容：\n• 理論知識：深入了解咖啡豆種類、產區特色及烘焙程度\n• 實作技巧：掌握專業沖煮方法、萃取原理與參數控制\n• 感官訓練：培養品鑑能力，識別不同風味特徵\n\n⏱️ 課程安排：\n• 課時：總計6小時\n• 形式：小班制實體課程\n• 地點：請參考課程詳情\n\n🎓 學習成果：\n• 獲得系統性咖啡知識\n• 掌握實用沖煮技巧\n• 提升咖啡品鑑能力\n• 結業證書授予\n\n👨‍🏫 講師介紹：\n資深咖啡師親自授課，擁有豐富的教學經驗和專業知識。曾獲多項咖啡比賽獎項，對咖啡充滿熱情。\n\n🔖 報名須知：\n• 適合對象：咖啡愛好者、欲提升咖啡技能者\n• 課程設備：所有實作器材由課程提供\n• 報名方式：線上預約，名額有限`;\n      } else {\n        description = `【${name}】產品介紹\n\n高品質${category || '商品'}，為您帶來卓越體驗。\n\n✨ 產品特色：\n• 精選材料：嚴選優質原料，確保產品品質\n• 精心設計：注重細節，提供最佳使用體驗\n• 多功能性：滿足您不同場景的需求\n\n🔍 產品規格：\n• 規格：請參考產品詳情\n• 尺寸：標準尺寸\n• 重量：輕便設計\n\n💯 品質保證：\n我們對產品品質充滿信心，提供完善的售後服務，讓您安心購買、放心使用。\n\n📦 包裝內容：\n• 主產品 x1\n• 使用說明書 x1\n• 品質保證卡 x1`;\n      }\n      resolve(description);\n    }, 2000);\n  });\n};\nexport default {\n  generateProductDescription\n};","map":{"version":3,"names":["API_KEY","API_URL","generateProductDescription","productInfo","process","env","NODE_ENV","mockGenerateDescription","prompt","createPrompt","response","fetch","method","headers","body","JSON","stringify","contents","parts","text","generationConfig","temperature","topK","topP","maxOutputTokens","safetySettings","category","threshold","ok","Error","status","data","json","candidates","content","error","console","name","keywords","tone","toneDescription","Promise","resolve","setTimeout","description"],"sources":["/Users/terryw/Repos/EC_demo/src/services/ai.js"],"sourcesContent":["/**\n * Google Gemini API 服務\n * \n * 這個文件包含與 Google Gemini API 通信的函數\n * 目前使用模擬數據，實際使用時請替換為真實 API 調用\n */\n\n// Google Gemini API 通信設定\n// 實際使用時，請替換為您的 API 金鑰\nconst API_KEY = \"AIzaSyCS0k2o5WnWagYNWH_Noq_-PzCy9B56Bto\";\nconst API_URL = \"https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent\";\n\n/**\n * 生成商品描述\n * \n * @param {Object} productInfo - 包含商品信息的對象\n * @returns {Promise<string>} - 生成的商品描述\n */\nexport const generateProductDescription = async (productInfo) => {\n  // 開發模式：使用模擬數據 (mockGenerateDescription)\n  if (process.env.NODE_ENV === 'development') {\n    return mockGenerateDescription(productInfo);\n  }\n  \n  // 生產模式：調用 Google Gemini API\n  try {\n    const prompt = createPrompt(productInfo);\n    const response = await fetch(`${API_URL}?key=${API_KEY}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        contents: [\n          {\n            parts: [\n              {\n                text: prompt\n              }\n            ]\n          }\n        ],\n        generationConfig: {\n          temperature: 0.7,\n          topK: 40,\n          topP: 0.95,\n          maxOutputTokens: 1024,\n        },\n        safetySettings: [\n          {\n            category: \"HARM_CATEGORY_HARASSMENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_HATE_SPEECH\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          },\n          {\n            category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n          }\n        ]\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`API 請求失敗: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.candidates[0].content.parts[0].text;\n  } catch (error) {\n    console.error('生成商品描述時出錯:', error);\n    throw error;\n  }\n};\n\n/**\n * 創建提示詞\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {string} - 提示詞字串\n */\nconst createPrompt = (productInfo) => {\n  const { name, category, keywords = '', tone = 'professional' } = productInfo;\n  \n  let toneDescription = '';\n  switch (tone) {\n    case 'professional':\n      toneDescription = '專業正式，適合商業情境';\n      break;\n    case 'casual':\n      toneDescription = '輕鬆友善，使用日常用語，親切自然';\n      break;\n    case 'enthusiastic':\n      toneDescription = '熱情活潑，充滿活力，激發購買慾望';\n      break;\n    case 'elegant':\n      toneDescription = '優雅精緻，適合高檔商品與服務';\n      break;\n    default:\n      toneDescription = '專業正式，適合商業情境';\n  }\n  \n  return `\n請為我生成一個具有吸引力且商業價值高的商品描述，內容按照以下格式:\n\n商品名稱：${name}\n商品類別：${category}\n關鍵詞：${keywords}\n文案風格：${toneDescription}\n\n請生成的文案需符合以下要求：\n1. 文案應有清晰的標題、產品特色描述、規格說明和賣點強調\n2. 使用吸引人的語言和表情符號增加親切感\n3. 精簡有力，避免冗長，每個段落重點突出\n4. 採用商品類別常見的專業術語，提升專業感\n5. 結構清晰，段落分明，便於閱讀\n6. 強調商品對客戶的實際價值和問題解決能力\n7. 整體文案長度適中，約300-500字\n\n請生成適合電商平台展示的完整商品描述文案，無需包含圖片說明和連結。\n  `;\n};\n\n/**\n * 模擬生成商品描述 (僅用於開發環境)\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {Promise<string>} - 生成的商品描述\n */\nconst mockGenerateDescription = async (productInfo) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const { name, category } = productInfo;\n      let description;\n      \n      if (category === '咖啡豆') {\n        description = `【頂級咖啡豆體驗】${name}\n\n來自精選產區的頂級咖啡豆，每一顆都經過專業烘焙師精心烘焙。\n\n🌟 產品特色：\n• 獨特風味：帶有柑橘和巧克力的複雜風味，尾韻有輕微的花香\n• 精心烘焙：精確控制烘焙溫度和時間，確保風味完美釋放\n• 新鮮保證：烘焙後24小時內包裝，鎖住最佳風味\n\n☕ 品嚐建議：\n• 手沖萃取：水溫88-92°C，粉水比1:15\n• 濃縮咖啡：適合中度研磨，展現濃郁口感\n• 冷萃咖啡：冷水浸泡12小時，帶出獨特清爽感\n\n✨ 為什麼選擇我們的咖啡豆？\n每一批咖啡豆都遵循公平貿易原則採購，支持可持續發展的咖啡農場。我們的烘焙過程完全遵循精品咖啡標準，為您帶來頂級咖啡體驗。\n\n📦 包裝規格：250g/包`;\n      } else if (category === '咖啡器具') {\n        description = `【專業咖啡愛好者必備】${name}\n\n為追求完美咖啡體驗而設計，結合功能性與美學的絕佳咖啡器具。\n\n🔍 產品特色：\n• 精工打造：採用高品質材料製作，確保耐用性與安全性\n• 人體工學設計：操作簡便，讓沖煮過程更加輕鬆愉悅\n• 精準控制：提供最佳萃取條件，釋放咖啡豆完整風味\n\n🛠️ 使用方法：\n1. 準備您喜愛的咖啡豆並研磨至適當粗細度\n2. 按照說明書指引設置器具參數\n3. 遵循建議的沖煮方法享受完美咖啡\n\n✅ 適用場景：\n• 家庭日常使用\n• 辦公室小型咖啡站\n• 露營或旅行便攜沖煮\n\n🔧 產品規格：\n• 材質：高品質材料\n• 尺寸：請參考產品圖片\n• 容量：適合1-2人份\n\n💡 小提示：定期清潔和保養您的咖啡器具，將延長使用壽命並確保每一杯咖啡的純淨風味。`;\n      } else if (category === '課程') {\n        description = `【提升咖啡技藝】${name}\n\n由專業咖啡師精心設計的實用課程，無論您是初學者還是咖啡愛好者，都能獲得寶貴的專業知識與技巧。\n\n📚 課程內容：\n• 理論知識：深入了解咖啡豆種類、產區特色及烘焙程度\n• 實作技巧：掌握專業沖煮方法、萃取原理與參數控制\n• 感官訓練：培養品鑑能力，識別不同風味特徵\n\n⏱️ 課程安排：\n• 課時：總計6小時\n• 形式：小班制實體課程\n• 地點：請參考課程詳情\n\n🎓 學習成果：\n• 獲得系統性咖啡知識\n• 掌握實用沖煮技巧\n• 提升咖啡品鑑能力\n• 結業證書授予\n\n👨‍🏫 講師介紹：\n資深咖啡師親自授課，擁有豐富的教學經驗和專業知識。曾獲多項咖啡比賽獎項，對咖啡充滿熱情。\n\n🔖 報名須知：\n• 適合對象：咖啡愛好者、欲提升咖啡技能者\n• 課程設備：所有實作器材由課程提供\n• 報名方式：線上預約，名額有限`;\n      } else {\n        description = `【${name}】產品介紹\n\n高品質${category || '商品'}，為您帶來卓越體驗。\n\n✨ 產品特色：\n• 精選材料：嚴選優質原料，確保產品品質\n• 精心設計：注重細節，提供最佳使用體驗\n• 多功能性：滿足您不同場景的需求\n\n🔍 產品規格：\n• 規格：請參考產品詳情\n• 尺寸：標準尺寸\n• 重量：輕便設計\n\n💯 品質保證：\n我們對產品品質充滿信心，提供完善的售後服務，讓您安心購買、放心使用。\n\n📦 包裝內容：\n• 主產品 x1\n• 使用說明書 x1\n• 品質保證卡 x1`;\n      }\n      \n      resolve(description);\n    }, 2000);\n  });\n};\n\nexport default {\n  generateProductDescription\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}