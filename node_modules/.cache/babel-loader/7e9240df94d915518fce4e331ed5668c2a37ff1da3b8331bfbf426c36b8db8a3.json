{"ast":null,"code":"/**\n * Google Gemini API 服務\n * \n * 這個文件包含與 Google Gemini API 通信的函數\n * 使用 @google/genai 包實現 Gemini API 調用\n */\n\n// 模擬環境檢測，用於在開發環境中使用模擬數據\nconst IS_DEVELOPMENT = process.env.NODE_ENV === 'development';\n\n// Gemini API 金鑰 - 實際使用時請替換為您的 API 金鑰\nconst API_KEY = \"AIzaSyCS0k2o5WnWagYNWH_Noq_-PzCy9B56Bto\";\n\n// 在生產環境中導入 GoogleGenAI\nlet GoogleGenAI;\nif (!IS_DEVELOPMENT) {\n  try {\n    // 動態導入以避免開發環境中的錯誤\n    // 注意：您需要通過 npm 安裝 @google/genai 包\n    // npm install @google/genai\n    GoogleGenAI = require(\"@google/genai\").GoogleGenAI;\n  } catch (error) {\n    console.error(\"無法導入 @google/genai，請確保已安裝此包:\", error);\n  }\n}\n\n/**\n * 生成商品描述\n * \n * @param {Object} productInfo - 包含商品信息的對象\n * @returns {Promise<string>} - 生成的商品描述\n */\nexport const generateProductDescription = async productInfo => {\n  // 開發模式：使用模擬數據\n  if (IS_DEVELOPMENT) {\n    return mockGenerateDescription(productInfo);\n  }\n\n  // 生產模式：調用 Google Gemini API\n  try {\n    // 初始化 GenAI\n    const genAI = new GoogleGenAI({\n      apiKey: API_KEY\n    });\n\n    // 使用 gemini-2.0-flash 模型 (可根據需要選擇不同模型)\n    const model = genAI.models.getGenerativeModel({\n      model: \"gemini-2.0-flash\"\n    });\n\n    // 創建提示詞\n    const prompt = createPrompt(productInfo);\n\n    // 調用 API 生成內容\n    const result = await model.generateContent({\n      contents: prompt\n    });\n\n    // 提取生成的文本\n    return result.response.text();\n  } catch (error) {\n    console.error('生成商品描述時出錯:', error);\n    throw error;\n  }\n};\n\n/**\n * 創建提示詞\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {string} - 提示詞字串\n */\nconst createPrompt = productInfo => {\n  const {\n    name,\n    category,\n    keywords = '',\n    tone = 'professional'\n  } = productInfo;\n  let toneDescription = '';\n  switch (tone) {\n    case 'professional':\n      toneDescription = '專業正式，適合商業情境';\n      break;\n    case 'casual':\n      toneDescription = '輕鬆友善，使用日常用語，親切自然';\n      break;\n    case 'enthusiastic':\n      toneDescription = '熱情活潑，充滿活力，激發購買慾望';\n      break;\n    case 'elegant':\n      toneDescription = '優雅精緻，適合高檔商品與服務';\n      break;\n    default:\n      toneDescription = '專業正式，適合商業情境';\n  }\n  return `\n請為我生成一個具有吸引力且商業價值高的商品描述，內容按照以下格式:\n\n商品名稱：${name}\n商品類別：${category}\n關鍵詞：${keywords}\n文案風格：${toneDescription}\n\n請生成的文案需符合以下要求：\n1. 文案應有清晰的標題、產品特色描述、規格說明和賣點強調\n2. 使用吸引人的語言和表情符號增加親切感\n3. 精簡有力，避免冗長，每個段落重點突出\n4. 採用商品類別常見的專業術語，提升專業感\n5. 結構清晰，段落分明，便於閱讀\n6. 強調商品對客戶的實際價值和問題解決能力\n7. 整體文案長度適中，約300-500字\n\n請生成適合電商平台展示的完整商品描述文案，無需包含圖片說明和連結。\n  `;\n};\n\n/**\n * 模擬生成商品描述 (僅用於開發環境)\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {Promise<string>} - 生成的商品描述\n */\nconst mockGenerateDescription = async productInfo => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      const {\n        name,\n        category\n      } = productInfo;\n      let description;\n      if (category === '咖啡豆') {\n        description = `【頂級咖啡豆體驗】${name}\n\n來自精選產區的頂級咖啡豆，每一顆都經過專業烘焙師精心烘焙。\n\n🌟 產品特色：\n• 獨特風味：帶有柑橘和巧克力的複雜風味，尾韻有輕微的花香\n• 精心烘焙：精確控制烘焙溫度和時間，確保風味完美釋放\n• 新鮮保證：烘焙後24小時內包裝，鎖住最佳風味\n\n☕ 品嚐建議：\n• 手沖萃取：水溫88-92°C，粉水比1:15\n• 濃縮咖啡：適合中度研磨，展現濃郁口感\n• 冷萃咖啡：冷水浸泡12小時，帶出獨特清爽感\n\n✨ 為什麼選擇我們的咖啡豆？\n每一批咖啡豆都遵循公平貿易原則採購，支持可持續發展的咖啡農場。我們的烘焙過程完全遵循精品咖啡標準，為您帶來頂級咖啡體驗。\n\n📦 包裝規格：250g/包`;\n      } else if (category === '咖啡器具') {\n        description = `【專業咖啡愛好者必備】${name}\n\n為追求完美咖啡體驗而設計，結合功能性與美學的絕佳咖啡器具。\n\n🔍 產品特色：\n• 精工打造：採用高品質材料製作，確保耐用性與安全性\n• 人體工學設計：操作簡便，讓沖煮過程更加輕鬆愉悅\n• 精準控制：提供最佳萃取條件，釋放咖啡豆完整風味\n\n🛠️ 使用方法：\n1. 準備您喜愛的咖啡豆並研磨至適當粗細度\n2. 按照說明書指引設置器具參數\n3. 遵循建議的沖煮方法享受完美咖啡\n\n✅ 適用場景：\n• 家庭日常使用\n• 辦公室小型咖啡站\n• 露營或旅行便攜沖煮\n\n🔧 產品規格：\n• 材質：高品質材料\n• 尺寸：請參考產品圖片\n• 容量：適合1-2人份\n\n💡 小提示：定期清潔和保養您的咖啡器具，將延長使用壽命並確保每一杯咖啡的純淨風味。`;\n      } else if (category === '課程') {\n        description = `【提升咖啡技藝】${name}\n\n由專業咖啡師精心設計的實用課程，無論您是初學者還是咖啡愛好者，都能獲得寶貴的專業知識與技巧。\n\n📚 課程內容：\n• 理論知識：深入了解咖啡豆種類、產區特色及烘焙程度\n• 實作技巧：掌握專業沖煮方法、萃取原理與參數控制\n• 感官訓練：培養品鑑能力，識別不同風味特徵\n\n⏱️ 課程安排：\n• 課時：總計6小時\n• 形式：小班制實體課程\n• 地點：請參考課程詳情\n\n🎓 學習成果：\n• 獲得系統性咖啡知識\n• 掌握實用沖煮技巧\n• 提升咖啡品鑑能力\n• 結業證書授予\n\n👨‍🏫 講師介紹：\n資深咖啡師親自授課，擁有豐富的教學經驗和專業知識。曾獲多項咖啡比賽獎項，對咖啡充滿熱情。\n\n🔖 報名須知：\n• 適合對象：咖啡愛好者、欲提升咖啡技能者\n• 課程設備：所有實作器材由課程提供\n• 報名方式：線上預約，名額有限`;\n      } else {\n        description = `【${name}】產品介紹\n\n高品質${category || '商品'}，為您帶來卓越體驗。\n\n✨ 產品特色：\n• 精選材料：嚴選優質原料，確保產品品質\n• 精心設計：注重細節，提供最佳使用體驗\n• 多功能性：滿足您不同場景的需求\n\n🔍 產品規格：\n• 規格：請參考產品詳情\n• 尺寸：標準尺寸\n• 重量：輕便設計\n\n💯 品質保證：\n我們對產品品質充滿信心，提供完善的售後服務，讓您安心購買、放心使用。\n\n📦 包裝內容：\n• 主產品 x1\n• 使用說明書 x1\n• 品質保證卡 x1`;\n      }\n      resolve(description);\n    }, 2000);\n  });\n};\nexport default {\n  generateProductDescription\n};","map":{"version":3,"names":["IS_DEVELOPMENT","process","env","NODE_ENV","API_KEY","GoogleGenAI","require","error","console","generateProductDescription","productInfo","mockGenerateDescription","genAI","apiKey","model","models","getGenerativeModel","prompt","createPrompt","result","generateContent","contents","response","text","name","category","keywords","tone","toneDescription","Promise","resolve","setTimeout","description"],"sources":["/Users/terryw/Repos/EC_demo/src/services/ai.js"],"sourcesContent":["/**\n * Google Gemini API 服務\n * \n * 這個文件包含與 Google Gemini API 通信的函數\n * 使用 @google/genai 包實現 Gemini API 調用\n */\n\n// 模擬環境檢測，用於在開發環境中使用模擬數據\nconst IS_DEVELOPMENT = process.env.NODE_ENV === 'development';\n\n// Gemini API 金鑰 - 實際使用時請替換為您的 API 金鑰\nconst API_KEY = \"AIzaSyCS0k2o5WnWagYNWH_Noq_-PzCy9B56Bto\";\n\n// 在生產環境中導入 GoogleGenAI\nlet GoogleGenAI;\nif (!IS_DEVELOPMENT) {\n  try {\n    // 動態導入以避免開發環境中的錯誤\n    // 注意：您需要通過 npm 安裝 @google/genai 包\n    // npm install @google/genai\n    GoogleGenAI = require(\"@google/genai\").GoogleGenAI;\n  } catch (error) {\n    console.error(\"無法導入 @google/genai，請確保已安裝此包:\", error);\n  }\n}\n\n/**\n * 生成商品描述\n * \n * @param {Object} productInfo - 包含商品信息的對象\n * @returns {Promise<string>} - 生成的商品描述\n */\nexport const generateProductDescription = async (productInfo) => {\n  // 開發模式：使用模擬數據\n  if (IS_DEVELOPMENT) {\n    return mockGenerateDescription(productInfo);\n  }\n  \n  // 生產模式：調用 Google Gemini API\n  try {\n    // 初始化 GenAI\n    const genAI = new GoogleGenAI({ apiKey: API_KEY });\n    \n    // 使用 gemini-2.0-flash 模型 (可根據需要選擇不同模型)\n    const model = genAI.models.getGenerativeModel({\n      model: \"gemini-2.0-flash\"\n    });\n    \n    // 創建提示詞\n    const prompt = createPrompt(productInfo);\n    \n    // 調用 API 生成內容\n    const result = await model.generateContent({\n      contents: prompt\n    });\n    \n    // 提取生成的文本\n    return result.response.text();\n    \n  } catch (error) {\n    console.error('生成商品描述時出錯:', error);\n    throw error;\n  }\n};\n\n/**\n * 創建提示詞\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {string} - 提示詞字串\n */\nconst createPrompt = (productInfo) => {\n  const { name, category, keywords = '', tone = 'professional' } = productInfo;\n  \n  let toneDescription = '';\n  switch (tone) {\n    case 'professional':\n      toneDescription = '專業正式，適合商業情境';\n      break;\n    case 'casual':\n      toneDescription = '輕鬆友善，使用日常用語，親切自然';\n      break;\n    case 'enthusiastic':\n      toneDescription = '熱情活潑，充滿活力，激發購買慾望';\n      break;\n    case 'elegant':\n      toneDescription = '優雅精緻，適合高檔商品與服務';\n      break;\n    default:\n      toneDescription = '專業正式，適合商業情境';\n  }\n  \n  return `\n請為我生成一個具有吸引力且商業價值高的商品描述，內容按照以下格式:\n\n商品名稱：${name}\n商品類別：${category}\n關鍵詞：${keywords}\n文案風格：${toneDescription}\n\n請生成的文案需符合以下要求：\n1. 文案應有清晰的標題、產品特色描述、規格說明和賣點強調\n2. 使用吸引人的語言和表情符號增加親切感\n3. 精簡有力，避免冗長，每個段落重點突出\n4. 採用商品類別常見的專業術語，提升專業感\n5. 結構清晰，段落分明，便於閱讀\n6. 強調商品對客戶的實際價值和問題解決能力\n7. 整體文案長度適中，約300-500字\n\n請生成適合電商平台展示的完整商品描述文案，無需包含圖片說明和連結。\n  `;\n};\n\n/**\n * 模擬生成商品描述 (僅用於開發環境)\n * \n * @param {Object} productInfo - 商品資訊\n * @returns {Promise<string>} - 生成的商品描述\n */\nconst mockGenerateDescription = async (productInfo) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const { name, category } = productInfo;\n      let description;\n      \n      if (category === '咖啡豆') {\n        description = `【頂級咖啡豆體驗】${name}\n\n來自精選產區的頂級咖啡豆，每一顆都經過專業烘焙師精心烘焙。\n\n🌟 產品特色：\n• 獨特風味：帶有柑橘和巧克力的複雜風味，尾韻有輕微的花香\n• 精心烘焙：精確控制烘焙溫度和時間，確保風味完美釋放\n• 新鮮保證：烘焙後24小時內包裝，鎖住最佳風味\n\n☕ 品嚐建議：\n• 手沖萃取：水溫88-92°C，粉水比1:15\n• 濃縮咖啡：適合中度研磨，展現濃郁口感\n• 冷萃咖啡：冷水浸泡12小時，帶出獨特清爽感\n\n✨ 為什麼選擇我們的咖啡豆？\n每一批咖啡豆都遵循公平貿易原則採購，支持可持續發展的咖啡農場。我們的烘焙過程完全遵循精品咖啡標準，為您帶來頂級咖啡體驗。\n\n📦 包裝規格：250g/包`;\n      } else if (category === '咖啡器具') {\n        description = `【專業咖啡愛好者必備】${name}\n\n為追求完美咖啡體驗而設計，結合功能性與美學的絕佳咖啡器具。\n\n🔍 產品特色：\n• 精工打造：採用高品質材料製作，確保耐用性與安全性\n• 人體工學設計：操作簡便，讓沖煮過程更加輕鬆愉悅\n• 精準控制：提供最佳萃取條件，釋放咖啡豆完整風味\n\n🛠️ 使用方法：\n1. 準備您喜愛的咖啡豆並研磨至適當粗細度\n2. 按照說明書指引設置器具參數\n3. 遵循建議的沖煮方法享受完美咖啡\n\n✅ 適用場景：\n• 家庭日常使用\n• 辦公室小型咖啡站\n• 露營或旅行便攜沖煮\n\n🔧 產品規格：\n• 材質：高品質材料\n• 尺寸：請參考產品圖片\n• 容量：適合1-2人份\n\n💡 小提示：定期清潔和保養您的咖啡器具，將延長使用壽命並確保每一杯咖啡的純淨風味。`;\n      } else if (category === '課程') {\n        description = `【提升咖啡技藝】${name}\n\n由專業咖啡師精心設計的實用課程，無論您是初學者還是咖啡愛好者，都能獲得寶貴的專業知識與技巧。\n\n📚 課程內容：\n• 理論知識：深入了解咖啡豆種類、產區特色及烘焙程度\n• 實作技巧：掌握專業沖煮方法、萃取原理與參數控制\n• 感官訓練：培養品鑑能力，識別不同風味特徵\n\n⏱️ 課程安排：\n• 課時：總計6小時\n• 形式：小班制實體課程\n• 地點：請參考課程詳情\n\n🎓 學習成果：\n• 獲得系統性咖啡知識\n• 掌握實用沖煮技巧\n• 提升咖啡品鑑能力\n• 結業證書授予\n\n👨‍🏫 講師介紹：\n資深咖啡師親自授課，擁有豐富的教學經驗和專業知識。曾獲多項咖啡比賽獎項，對咖啡充滿熱情。\n\n🔖 報名須知：\n• 適合對象：咖啡愛好者、欲提升咖啡技能者\n• 課程設備：所有實作器材由課程提供\n• 報名方式：線上預約，名額有限`;\n      } else {\n        description = `【${name}】產品介紹\n\n高品質${category || '商品'}，為您帶來卓越體驗。\n\n✨ 產品特色：\n• 精選材料：嚴選優質原料，確保產品品質\n• 精心設計：注重細節，提供最佳使用體驗\n• 多功能性：滿足您不同場景的需求\n\n🔍 產品規格：\n• 規格：請參考產品詳情\n• 尺寸：標準尺寸\n• 重量：輕便設計\n\n💯 品質保證：\n我們對產品品質充滿信心，提供完善的售後服務，讓您安心購買、放心使用。\n\n📦 包裝內容：\n• 主產品 x1\n• 使用說明書 x1\n• 品質保證卡 x1`;\n      }\n      \n      resolve(description);\n    }, 2000);\n  });\n};\n\nexport default {\n  generateProductDescription\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;;AAE7D;AACA,MAAMC,OAAO,GAAG,yCAAyC;;AAEzD;AACA,IAAIC,WAAW;AACf,IAAI,CAACL,cAAc,EAAE;EACnB,IAAI;IACF;IACA;IACA;IACAK,WAAW,GAAGC,OAAO,CAAC,eAAe,CAAC,CAACD,WAAW;EACpD,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;EACtD;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,0BAA0B,GAAG,MAAOC,WAAW,IAAK;EAC/D;EACA,IAAIV,cAAc,EAAE;IAClB,OAAOW,uBAAuB,CAACD,WAAW,CAAC;EAC7C;;EAEA;EACA,IAAI;IACF;IACA,MAAME,KAAK,GAAG,IAAIP,WAAW,CAAC;MAAEQ,MAAM,EAAET;IAAQ,CAAC,CAAC;;IAElD;IACA,MAAMU,KAAK,GAAGF,KAAK,CAACG,MAAM,CAACC,kBAAkB,CAAC;MAC5CF,KAAK,EAAE;IACT,CAAC,CAAC;;IAEF;IACA,MAAMG,MAAM,GAAGC,YAAY,CAACR,WAAW,CAAC;;IAExC;IACA,MAAMS,MAAM,GAAG,MAAML,KAAK,CAACM,eAAe,CAAC;MACzCC,QAAQ,EAAEJ;IACZ,CAAC,CAAC;;IAEF;IACA,OAAOE,MAAM,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC;EAE/B,CAAC,CAAC,OAAOhB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMW,YAAY,GAAIR,WAAW,IAAK;EACpC,MAAM;IAAEc,IAAI;IAAEC,QAAQ;IAAEC,QAAQ,GAAG,EAAE;IAAEC,IAAI,GAAG;EAAe,CAAC,GAAGjB,WAAW;EAE5E,IAAIkB,eAAe,GAAG,EAAE;EACxB,QAAQD,IAAI;IACV,KAAK,cAAc;MACjBC,eAAe,GAAG,aAAa;MAC/B;IACF,KAAK,QAAQ;MACXA,eAAe,GAAG,kBAAkB;MACpC;IACF,KAAK,cAAc;MACjBA,eAAe,GAAG,kBAAkB;MACpC;IACF,KAAK,SAAS;MACZA,eAAe,GAAG,gBAAgB;MAClC;IACF;MACEA,eAAe,GAAG,aAAa;EACnC;EAEA,OAAO;AACT;AACA;AACA,OAAOJ,IAAI;AACX,OAAOC,QAAQ;AACf,MAAMC,QAAQ;AACd,OAAOE,eAAe;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMjB,uBAAuB,GAAG,MAAOD,WAAW,IAAK;EACrD,OAAO,IAAImB,OAAO,CAAEC,OAAO,IAAK;IAC9BC,UAAU,CAAC,MAAM;MACf,MAAM;QAAEP,IAAI;QAAEC;MAAS,CAAC,GAAGf,WAAW;MACtC,IAAIsB,WAAW;MAEf,IAAIP,QAAQ,KAAK,KAAK,EAAE;QACtBO,WAAW,GAAG,YAAYR,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;MACT,CAAC,MAAM,IAAIC,QAAQ,KAAK,MAAM,EAAE;QAC9BO,WAAW,GAAG,cAAcR,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;MACrC,CAAC,MAAM,IAAIC,QAAQ,KAAK,IAAI,EAAE;QAC5BO,WAAW,GAAG,WAAWR,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;MACX,CAAC,MAAM;QACLQ,WAAW,GAAG,IAAIR,IAAI;AAC9B;AACA,KAAKC,QAAQ,IAAI,IAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;MACL;MAEAK,OAAO,CAACE,WAAW,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,CAAC;AACJ,CAAC;AAED,eAAe;EACbvB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}