{"ast":null,"code":"var _jsxFileName = \"/Users/terryw/Repos/EC_demo/src/pages/AddProduct/AIDescriptionGenerator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\n\n// 導入 AI 服務\nimport aiService from '../../services/ai';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;\n_c = Overlay;\nconst Modal = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 700px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n`;\n_c2 = Modal;\nconst ModalHeader = styled.div`\n  padding: 16px 24px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n_c3 = ModalHeader;\nconst ModalTitle = styled.h3`\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 500;\n`;\n_c4 = ModalTitle;\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.5rem;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  \n  &:hover {\n    background-color: #f3f4f6;\n  }\n`;\n_c5 = CloseButton;\nconst ModalBody = styled.div`\n  padding: 24px;\n  flex: 1;\n  overflow-y: auto;\n`;\n_c6 = ModalBody;\nconst ModalFooter = styled.div`\n  padding: 16px 24px;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n`;\n_c7 = ModalFooter;\nconst Button = styled.button`\n  background-color: ${props => props.variant === 'primary' ? '#3b82f6' : 'white'};\n  color: ${props => props.variant === 'primary' ? 'white' : '#3b82f6'};\n  border: ${props => props.variant === 'primary' ? 'none' : '1px solid #3b82f6'};\n  padding: 8px 16px;\n  border-radius: 4px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  \n  &:hover {\n    background-color: ${props => props.variant === 'primary' ? '#2563eb' : '#f0f9ff'};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c8 = Button;\nconst FormGroup = styled.div`\n  margin-bottom: 20px;\n`;\n_c9 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n`;\n_c10 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n_c11 = Input;\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  min-height: 100px;\n  resize: vertical;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n_c12 = TextArea;\nconst Select = styled.select`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  background-color: white;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n_c13 = Select;\nconst ChatContainer = styled.div`\n  margin-top: 20px;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  max-height: 300px;\n  overflow-y: auto;\n`;\n_c14 = ChatContainer;\nconst MessageBubble = styled.div`\n  padding: 12px 16px;\n  margin: 8px;\n  border-radius: 8px;\n  max-width: 80%;\n  \n  background-color: ${props => props.type === 'user' ? '#f3f4f6' : '#e9f5ff'};\n  color: ${props => props.type === 'user' ? '#374151' : '#1e40af'};\n  align-self: ${props => props.type === 'user' ? 'flex-end' : 'flex-start'};\n  \n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n`;\n_c15 = MessageBubble;\nconst ChatMessages = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n`;\n_c16 = ChatMessages;\nconst LoadingIndicator = styled.div`\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: white;\n  animation: spin 1s linear infinite;\n  margin-right: 8px;\n  \n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n_c17 = LoadingIndicator;\nconst Tag = styled.span`\n  display: inline-block;\n  padding: 4px 8px;\n  background-color: #e5e7eb;\n  color: #374151;\n  border-radius: 16px;\n  font-size: 0.75rem;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: #d1d5db;\n  }\n  \n  &.selected {\n    background-color: #dbeafe;\n    color: #1e40af;\n    border: 1px solid #bfdbfe;\n  }\n`;\n_c18 = Tag;\nconst TagsContainer = styled.div`\n  margin: 12px 0;\n  display: flex;\n  flex-wrap: wrap;\n`;\n_c19 = TagsContainer;\nconst DescriptionPreview = styled.div`\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  padding: 16px;\n  background-color: #f9fafb;\n  margin-top: 16px;\n  white-space: pre-line;\n`;\n_c20 = DescriptionPreview;\nconst AIDescriptionGenerator = ({\n  productInfo,\n  onClose,\n  onGenerate\n}) => {\n  _s();\n  const [prompts, setPrompts] = useState({\n    category: productInfo.category || '',\n    name: productInfo.name || '',\n    keywords: '',\n    tone: 'professional',\n    customPrompt: ''\n  });\n  const [messages, setMessages] = useState([{\n    type: 'ai',\n    content: '您好！我是您的 AI 文案助手，可以協助您生成有吸引力的商品描述。請告訴我您的商品特點，我會為您生成專業的商品描述文案。'\n  }]);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedDescription, setGeneratedDescription] = useState('');\n  const [currentStep, setCurrentStep] = useState(1);\n  const toneOptions = [{\n    value: 'professional',\n    label: '專業正式',\n    description: '適合正式的商業情境'\n  }, {\n    value: 'casual',\n    label: '輕鬆友善',\n    description: '使用日常用語，親切自然'\n  }, {\n    value: 'enthusiastic',\n    label: '熱情活潑',\n    description: '充滿活力，激發購買慾望'\n  }, {\n    value: 'elegant',\n    label: '優雅精緻',\n    description: '適合高檔商品與服務'\n  }];\n  const keywordSuggestions = {\n    '咖啡豆': ['濃郁', '香醇', '風味', '烘焙', '產地', '有機', '手工', '精選', '平衡'],\n    '咖啡器具': ['耐用', '精準', '設計', '便攜', '簡易', '專業', '創新', '品質', '工藝'],\n    '課程': ['專業', '實用', '學習', '技巧', '知識', '體驗', '互動', '證書', '小班制'],\n    '禮盒': ['精美', '驚喜', '豪華', '典雅', '獨特', '收藏', '限量', '紀念', '心意']\n  };\n  const getSuggestedKeywords = () => {\n    return keywordSuggestions[prompts.category] || [];\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPrompts({\n      ...prompts,\n      [name]: value\n    });\n  };\n  const handleKeywordClick = keyword => {\n    // 檢查是否已經包含這個關鍵字\n    const currentKeywords = prompts.keywords.split(',').map(k => k.trim()).filter(k => k);\n    if (currentKeywords.includes(keyword)) {\n      // 如果已包含，則移除\n      const newKeywords = currentKeywords.filter(k => k !== keyword).join(', ');\n      setPrompts({\n        ...prompts,\n        keywords: newKeywords\n      });\n    } else {\n      // 如果未包含，則添加\n      const newKeywords = [...currentKeywords, keyword].join(', ');\n      setPrompts({\n        ...prompts,\n        keywords: newKeywords\n      });\n    }\n  };\n  const handleAddMessage = () => {\n    if (!prompts.customPrompt.trim()) return;\n    setMessages([...messages, {\n      type: 'user',\n      content: prompts.customPrompt\n    }]);\n    setPrompts({\n      ...prompts,\n      customPrompt: ''\n    });\n\n    // 模擬 AI 回應\n    setTimeout(() => {\n      setMessages(prev => [...prev, {\n        type: 'ai',\n        content: '感謝您的提供更多信息！我會將這些納入商品描述中。您可以點擊「生成文案」看看效果，或繼續告訴我更多關於商品的特點。'\n      }]);\n    }, 1000);\n  };\n  const handleGenerate = async () => {\n    setIsGenerating(true);\n    try {\n      // 添加生成提示到對話中\n      setMessages(prev => [...prev, {\n        type: 'user',\n        content: '請幫我生成商品描述文案'\n      }, {\n        type: 'ai',\n        content: '正在為您生成文案，請稍候...'\n      }]);\n\n      // 調用 AI 生成函數\n      const description = await aiService.generateProductDescription(prompts);\n\n      // 更新對話並顯示生成結果\n      setMessages(prev => [...prev.slice(0, -1),\n      // 移除「正在生成」的訊息\n      {\n        type: 'ai',\n        content: '已為您生成以下商品描述：'\n      }]);\n      setGeneratedDescription(description);\n      setCurrentStep(2);\n    } catch (error) {\n      console.error('生成描述時出錯:', error);\n      setMessages(prev => [...prev, {\n        type: 'ai',\n        content: '生成過程中遇到錯誤，請稍後再試。'\n      }]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleUseDescription = () => {\n    onGenerate(generatedDescription);\n  };\n  const handleReset = () => {\n    setGeneratedDescription('');\n    setCurrentStep(1);\n\n    // 清空對話，只保留初始訊息\n    setMessages([{\n      type: 'ai',\n      content: '您好！我是您的 AI 文案助手，可以協助您生成有吸引力的商品描述。請告訴我您的商品特點，我會為您生成專業的商品描述文案。'\n    }]);\n  };\n  return /*#__PURE__*/_jsxDEV(Overlay, {\n    onClick: e => e.target === e.currentTarget && onClose(),\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: \"AI \\u6587\\u6848\\u751F\\u6210\\u5668\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"name\",\n              children: \"\\u5546\\u54C1\\u540D\\u7A31\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              id: \"name\",\n              name: \"name\",\n              value: prompts.name,\n              onChange: handleInputChange,\n              placeholder: \"\\u8ACB\\u8F38\\u5165\\u5546\\u54C1\\u540D\\u7A31\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"category\",\n              children: \"\\u5546\\u54C1\\u5206\\u985E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"category\",\n              name: \"category\",\n              value: prompts.category,\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u8ACB\\u9078\\u64C7\\u5206\\u985E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u5496\\u5561\\u8C46\",\n                children: \"\\u5496\\u5561\\u8C46\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u5496\\u5561\\u5668\\u5177\",\n                children: \"\\u5496\\u5561\\u5668\\u5177\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u8AB2\\u7A0B\",\n                children: \"\\u8AB2\\u7A0B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u79AE\\u76D2\",\n                children: \"\\u79AE\\u76D2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"tone\",\n              children: \"\\u6587\\u6848\\u98A8\\u683C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"tone\",\n              name: \"tone\",\n              value: prompts.tone,\n              onChange: handleInputChange,\n              children: toneOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option.value,\n                children: [option.label, \" - \", option.description]\n              }, option.value, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"\\u5EFA\\u8B70\\u95DC\\u9375\\u5B57\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TagsContainer, {\n              children: getSuggestedKeywords().map(keyword => /*#__PURE__*/_jsxDEV(Tag, {\n                className: prompts.keywords.includes(keyword) ? 'selected' : '',\n                onClick: () => handleKeywordClick(keyword),\n                children: keyword\n              }, keyword, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ChatContainer, {\n            children: /*#__PURE__*/_jsxDEV(ChatMessages, {\n              children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(MessageBubble, {\n                type: message.type,\n                children: message.content\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px',\n              marginTop: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextArea, {\n              placeholder: \"\\u8F38\\u5165\\u66F4\\u591A\\u5546\\u54C1\\u7279\\u9EDE\\u6216\\u60A8\\u60F3\\u8981\\u5F37\\u8ABF\\u7684\\u8CE3\\u9EDE...\",\n              value: prompts.customPrompt,\n              name: \"customPrompt\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              onClick: handleAddMessage,\n              style: {\n                flexShrink: 0,\n                alignSelf: 'flex-end'\n              },\n              children: \"\\u767C\\u9001\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), currentStep === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginTop: 0\n            },\n            children: \"\\u751F\\u6210\\u7684\\u5546\\u54C1\\u63CF\\u8FF0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DescriptionPreview, {\n            children: generatedDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '24px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              onClick: handleReset,\n              style: {\n                marginRight: '12px'\n              },\n              children: \"\\u91CD\\u65B0\\u751F\\u6210\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: onClose,\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), currentStep === 1 ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleGenerate,\n          disabled: isGenerating || !prompts.name || !prompts.category,\n          children: [isGenerating && /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 32\n          }, this), isGenerating ? '生成中...' : '生成文案']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleUseDescription,\n          children: \"\\u4F7F\\u7528\\u6B64\\u63CF\\u8FF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n};\n_s(AIDescriptionGenerator, \"fuk1YuT9/C0L9mv7Ztv55sDRbDs=\");\n_c21 = AIDescriptionGenerator;\nexport default AIDescriptionGenerator;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"Overlay\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"ModalHeader\");\n$RefreshReg$(_c4, \"ModalTitle\");\n$RefreshReg$(_c5, \"CloseButton\");\n$RefreshReg$(_c6, \"ModalBody\");\n$RefreshReg$(_c7, \"ModalFooter\");\n$RefreshReg$(_c8, \"Button\");\n$RefreshReg$(_c9, \"FormGroup\");\n$RefreshReg$(_c10, \"Label\");\n$RefreshReg$(_c11, \"Input\");\n$RefreshReg$(_c12, \"TextArea\");\n$RefreshReg$(_c13, \"Select\");\n$RefreshReg$(_c14, \"ChatContainer\");\n$RefreshReg$(_c15, \"MessageBubble\");\n$RefreshReg$(_c16, \"ChatMessages\");\n$RefreshReg$(_c17, \"LoadingIndicator\");\n$RefreshReg$(_c18, \"Tag\");\n$RefreshReg$(_c19, \"TagsContainer\");\n$RefreshReg$(_c20, \"DescriptionPreview\");\n$RefreshReg$(_c21, \"AIDescriptionGenerator\");","map":{"version":3,"names":["React","useState","styled","aiService","jsxDEV","_jsxDEV","Fragment","_Fragment","Overlay","div","_c","Modal","_c2","ModalHeader","_c3","ModalTitle","h3","_c4","CloseButton","button","_c5","ModalBody","_c6","ModalFooter","_c7","Button","props","variant","_c8","FormGroup","_c9","Label","label","_c10","Input","input","_c11","TextArea","textarea","_c12","Select","select","_c13","ChatContainer","_c14","MessageBubble","type","_c15","ChatMessages","_c16","LoadingIndicator","_c17","Tag","span","_c18","TagsContainer","_c19","DescriptionPreview","_c20","AIDescriptionGenerator","productInfo","onClose","onGenerate","_s","prompts","setPrompts","category","name","keywords","tone","customPrompt","messages","setMessages","content","isGenerating","setIsGenerating","generatedDescription","setGeneratedDescription","currentStep","setCurrentStep","toneOptions","value","description","keywordSuggestions","getSuggestedKeywords","handleInputChange","e","target","handleKeywordClick","keyword","currentKeywords","split","map","k","trim","filter","includes","newKeywords","join","handleAddMessage","setTimeout","prev","handleGenerate","generateProductDescription","slice","error","console","handleUseDescription","handleReset","onClick","currentTarget","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","onChange","placeholder","option","className","message","index","style","display","gap","marginTop","flexShrink","alignSelf","marginRight","disabled","_c21","$RefreshReg$"],"sources":["/Users/terryw/Repos/EC_demo/src/pages/AddProduct/AIDescriptionGenerator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\n\n// 導入 AI 服務\nimport aiService from '../../services/ai';\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;\n\nconst Modal = styled.div`\n  background-color: white;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 700px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ModalHeader = styled.div`\n  padding: 16px 24px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst ModalTitle = styled.h3`\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 500;\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.5rem;\n  color: #6b7280;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  \n  &:hover {\n    background-color: #f3f4f6;\n  }\n`;\n\nconst ModalBody = styled.div`\n  padding: 24px;\n  flex: 1;\n  overflow-y: auto;\n`;\n\nconst ModalFooter = styled.div`\n  padding: 16px 24px;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n`;\n\nconst Button = styled.button`\n  background-color: ${(props) => (props.variant === 'primary' ? '#3b82f6' : 'white')};\n  color: ${(props) => (props.variant === 'primary' ? 'white' : '#3b82f6')};\n  border: ${(props) => (props.variant === 'primary' ? 'none' : '1px solid #3b82f6')};\n  padding: 8px 16px;\n  border-radius: 4px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  \n  &:hover {\n    background-color: ${(props) => (props.variant === 'primary' ? '#2563eb' : '#f0f9ff')};\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 20px;\n`;\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #374151;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  min-height: 100px;\n  resize: vertical;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst Select = styled.select`\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #d1d5db;\n  border-radius: 4px;\n  font-size: 0.875rem;\n  background-color: white;\n  \n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n`;\n\nconst ChatContainer = styled.div`\n  margin-top: 20px;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  max-height: 300px;\n  overflow-y: auto;\n`;\n\nconst MessageBubble = styled.div`\n  padding: 12px 16px;\n  margin: 8px;\n  border-radius: 8px;\n  max-width: 80%;\n  \n  background-color: ${props => props.type === 'user' ? '#f3f4f6' : '#e9f5ff'};\n  color: ${props => props.type === 'user' ? '#374151' : '#1e40af'};\n  align-self: ${props => props.type === 'user' ? 'flex-end' : 'flex-start'};\n  \n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n`;\n\nconst ChatMessages = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n`;\n\nconst LoadingIndicator = styled.div`\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: white;\n  animation: spin 1s linear infinite;\n  margin-right: 8px;\n  \n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nconst Tag = styled.span`\n  display: inline-block;\n  padding: 4px 8px;\n  background-color: #e5e7eb;\n  color: #374151;\n  border-radius: 16px;\n  font-size: 0.75rem;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: #d1d5db;\n  }\n  \n  &.selected {\n    background-color: #dbeafe;\n    color: #1e40af;\n    border: 1px solid #bfdbfe;\n  }\n`;\n\nconst TagsContainer = styled.div`\n  margin: 12px 0;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst DescriptionPreview = styled.div`\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  padding: 16px;\n  background-color: #f9fafb;\n  margin-top: 16px;\n  white-space: pre-line;\n`;\n\nconst AIDescriptionGenerator = ({ productInfo, onClose, onGenerate }) => {\n  const [prompts, setPrompts] = useState({\n    category: productInfo.category || '',\n    name: productInfo.name || '',\n    keywords: '',\n    tone: 'professional',\n    customPrompt: '',\n  });\n  \n  const [messages, setMessages] = useState([\n    { type: 'ai', content: '您好！我是您的 AI 文案助手，可以協助您生成有吸引力的商品描述。請告訴我您的商品特點，我會為您生成專業的商品描述文案。' }\n  ]);\n  \n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedDescription, setGeneratedDescription] = useState('');\n  const [currentStep, setCurrentStep] = useState(1);\n  \n  const toneOptions = [\n    { value: 'professional', label: '專業正式', description: '適合正式的商業情境' },\n    { value: 'casual', label: '輕鬆友善', description: '使用日常用語，親切自然' },\n    { value: 'enthusiastic', label: '熱情活潑', description: '充滿活力，激發購買慾望' },\n    { value: 'elegant', label: '優雅精緻', description: '適合高檔商品與服務' }\n  ];\n  \n  const keywordSuggestions = {\n    '咖啡豆': ['濃郁', '香醇', '風味', '烘焙', '產地', '有機', '手工', '精選', '平衡'],\n    '咖啡器具': ['耐用', '精準', '設計', '便攜', '簡易', '專業', '創新', '品質', '工藝'],\n    '課程': ['專業', '實用', '學習', '技巧', '知識', '體驗', '互動', '證書', '小班制'],\n    '禮盒': ['精美', '驚喜', '豪華', '典雅', '獨特', '收藏', '限量', '紀念', '心意']\n  };\n  \n  const getSuggestedKeywords = () => {\n    return keywordSuggestions[prompts.category] || [];\n  };\n  \n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setPrompts({\n      ...prompts,\n      [name]: value\n    });\n  };\n  \n  const handleKeywordClick = (keyword) => {\n    // 檢查是否已經包含這個關鍵字\n    const currentKeywords = prompts.keywords.split(',').map(k => k.trim()).filter(k => k);\n    \n    if (currentKeywords.includes(keyword)) {\n      // 如果已包含，則移除\n      const newKeywords = currentKeywords.filter(k => k !== keyword).join(', ');\n      setPrompts({\n        ...prompts,\n        keywords: newKeywords\n      });\n    } else {\n      // 如果未包含，則添加\n      const newKeywords = [...currentKeywords, keyword].join(', ');\n      setPrompts({\n        ...prompts,\n        keywords: newKeywords\n      });\n    }\n  };\n  \n  const handleAddMessage = () => {\n    if (!prompts.customPrompt.trim()) return;\n    \n    setMessages([\n      ...messages,\n      { type: 'user', content: prompts.customPrompt }\n    ]);\n    \n    setPrompts({\n      ...prompts,\n      customPrompt: ''\n    });\n    \n    // 模擬 AI 回應\n    setTimeout(() => {\n      setMessages(prev => [\n        ...prev,\n        { type: 'ai', content: '感謝您的提供更多信息！我會將這些納入商品描述中。您可以點擊「生成文案」看看效果，或繼續告訴我更多關於商品的特點。' }\n      ]);\n    }, 1000);\n  };\n  \n  const handleGenerate = async () => {\n    setIsGenerating(true);\n    \n    try {\n      // 添加生成提示到對話中\n      setMessages(prev => [\n        ...prev,\n        { type: 'user', content: '請幫我生成商品描述文案' },\n        { type: 'ai', content: '正在為您生成文案，請稍候...' }\n      ]);\n      \n      // 調用 AI 生成函數\n      const description = await aiService.generateProductDescription(prompts);\n      \n      // 更新對話並顯示生成結果\n      setMessages(prev => [\n        ...prev.slice(0, -1), // 移除「正在生成」的訊息\n        { type: 'ai', content: '已為您生成以下商品描述：' }\n      ]);\n      \n      setGeneratedDescription(description);\n      setCurrentStep(2);\n    } catch (error) {\n      console.error('生成描述時出錯:', error);\n      setMessages(prev => [\n        ...prev,\n        { type: 'ai', content: '生成過程中遇到錯誤，請稍後再試。' }\n      ]);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  \n  const handleUseDescription = () => {\n    onGenerate(generatedDescription);\n  };\n  \n  const handleReset = () => {\n    setGeneratedDescription('');\n    setCurrentStep(1);\n    \n    // 清空對話，只保留初始訊息\n    setMessages([\n      { type: 'ai', content: '您好！我是您的 AI 文案助手，可以協助您生成有吸引力的商品描述。請告訴我您的商品特點，我會為您生成專業的商品描述文案。' }\n    ]);\n  };\n  \n  return (\n    <Overlay onClick={(e) => e.target === e.currentTarget && onClose()}>\n      <Modal>\n        <ModalHeader>\n          <ModalTitle>AI 文案生成器</ModalTitle>\n          <CloseButton onClick={onClose}>&times;</CloseButton>\n        </ModalHeader>\n        \n        <ModalBody>\n          {currentStep === 1 && (\n            <>\n              <FormGroup>\n                <Label htmlFor=\"name\">商品名稱</Label>\n                <Input\n                  id=\"name\"\n                  name=\"name\"\n                  value={prompts.name}\n                  onChange={handleInputChange}\n                  placeholder=\"請輸入商品名稱\"\n                />\n              </FormGroup>\n              \n              <FormGroup>\n                <Label htmlFor=\"category\">商品分類</Label>\n                <Select\n                  id=\"category\"\n                  name=\"category\"\n                  value={prompts.category}\n                  onChange={handleInputChange}\n                >\n                  <option value=\"\">請選擇分類</option>\n                  <option value=\"咖啡豆\">咖啡豆</option>\n                  <option value=\"咖啡器具\">咖啡器具</option>\n                  <option value=\"課程\">課程</option>\n                  <option value=\"禮盒\">禮盒</option>\n                </Select>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label htmlFor=\"tone\">文案風格</Label>\n                <Select\n                  id=\"tone\"\n                  name=\"tone\"\n                  value={prompts.tone}\n                  onChange={handleInputChange}\n                >\n                  {toneOptions.map(option => (\n                    <option key={option.value} value={option.value}>\n                      {option.label} - {option.description}\n                    </option>\n                  ))}\n                </Select>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>建議關鍵字</Label>\n                <TagsContainer>\n                  {getSuggestedKeywords().map(keyword => (\n                    <Tag \n                      key={keyword}\n                      className={prompts.keywords.includes(keyword) ? 'selected' : ''}\n                      onClick={() => handleKeywordClick(keyword)}\n                    >\n                      {keyword}\n                    </Tag>\n                  ))}\n                </TagsContainer>\n              </FormGroup>\n              \n              <ChatContainer>\n                <ChatMessages>\n                  {messages.map((message, index) => (\n                    <MessageBubble key={index} type={message.type}>\n                      {message.content}\n                    </MessageBubble>\n                  ))}\n                </ChatMessages>\n              </ChatContainer>\n              \n              <div style={{ display: 'flex', gap: '8px', marginTop: '16px' }}>\n                <TextArea\n                  placeholder=\"輸入更多商品特點或您想要強調的賣點...\"\n                  value={prompts.customPrompt}\n                  name=\"customPrompt\"\n                  onChange={handleInputChange}\n                />\n                <Button \n                  type=\"button\" \n                  onClick={handleAddMessage}\n                  style={{ flexShrink: 0, alignSelf: 'flex-end' }}\n                >\n                  發送\n                </Button>\n              </div>\n            </>\n          )}\n          \n          {currentStep === 2 && (\n            <>\n              <h4 style={{ marginTop: 0 }}>生成的商品描述</h4>\n              <DescriptionPreview>\n                {generatedDescription}\n              </DescriptionPreview>\n              \n              <div style={{ marginTop: '24px' }}>\n                <Button \n                  type=\"button\" \n                  onClick={handleReset}\n                  style={{ marginRight: '12px' }}\n                >\n                  重新生成\n                </Button>\n              </div>\n            </>\n          )}\n        </ModalBody>\n        \n        <ModalFooter>\n          <Button onClick={onClose}>\n            取消\n          </Button>\n          \n          {currentStep === 1 ? (\n            <Button \n              variant=\"primary\" \n              onClick={handleGenerate}\n              disabled={isGenerating || !prompts.name || !prompts.category}\n            >\n              {isGenerating && <LoadingIndicator />}\n              {isGenerating ? '生成中...' : '生成文案'}\n            </Button>\n          ) : (\n            <Button \n              variant=\"primary\" \n              onClick={handleUseDescription}\n            >\n              使用此描述\n            </Button>\n          )}\n        </ModalFooter>\n      </Modal>\n    </Overlay>\n  );\n};\n\nexport default AIDescriptionGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}